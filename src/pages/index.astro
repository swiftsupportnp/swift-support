---
import BaseLayout from "../layouts/BaseLayout.astro";
import { client } from "../lib/sanity";
import ServiceCard from "../components/ServiceCard.astro";

const services = await client
	.fetch(
		`*[_type == "service"] | order(order asc) {
    title, slug, tagline, icon, category
  }`,
	)
	.catch(() => []);

const stats = [
	{ value: "500+", label: "Businesses Served" },
	{ value: "10+", label: "Years of Experience" },
	{ value: "99%", label: "Client Satisfaction" },
	{ value: "50+", label: "Expert Consultants" },
];

const whyUs = [
	{
		icon: "ðŸ›ï¸",
		title: "Nepal-Registered & Compliant",
		desc: "Incorporated under Companies Act 2063 with full compliance to IRD, OCR, and local regulatory bodies.",
	},
	{
		icon: "ðŸ“Š",
		title: "Certified Professionals",
		desc: "Our team holds ICAI, ICAN, and international certifications, ensuring you receive expert-level guidance.",
	},
	{
		icon: "âš¡",
		title: "Fast & Actionable",
		desc: "We deliver clear, actionable strategies - not lengthy reports. Most engagements start within 48 hours.",
	},
	{
		icon: "ðŸ”’",
		title: "Confidential & Trustworthy",
		desc: "Your business information is handled under strict confidentiality agreements and data protection standards.",
	},
];

const testimonials = [
	{
		quote: "Swift Support Solutions helped us register our company and set up our accounting system within two weeks. Truly professional.",
		name: "Rajan Shrestha",
		role: "CEO, Himalayan Exports Pvt. Ltd.",
		initials: "RS",
	},
	{
		quote: "Their tax and VAT advisory saved us from a major IRD compliance issue. I recommend them to every business owner in Nepal.",
		name: "Sunita Maharjan",
		role: "Founder, Kathmandu Crafts",
		initials: "SM",
	},
	{
		quote: "The marketing and branding team transformed our visibility. Our client inquiries doubled in just three months.",
		name: "Bikash Thapa",
		role: "Director, Peak Solutions",
		initials: "BT",
	},
];

const fallbackServices = [
	{
		title: "Business Consultation",
		slug: { current: "business-consultation" },
		tagline:
			"Strategic guidance to start, scale, and sustain your business",
	},
	{
		title: "Business Research",
		slug: { current: "business-research" },
		tagline:
			"Data-driven insights and market analysis for informed decisions",
	},
	{
		title: "Assets Management",
		slug: { current: "assets-management" },
		tagline:
			"Optimize and protect your companyâ€™s physical and digital assets",
	},
	{
		title: "Accounting & Bookkeeping",
		slug: { current: "accounting-bookkeeping" },
		tagline: "Accurate records and NFRS-compliant financial statements",
	},
	{
		title: "TAX, VAT & Audit Support",
		slug: { current: "tax-vat-audit" },
		tagline: "IRD-registered tax and VAT filing with full compliance",
	},
	{
		title: "Business Registration",
		slug: { current: "business-registration" },
		tagline: "End-to-end company registration and legal compliance",
	},
	{
		title: "Marketing & Branding",
		slug: { current: "marketing-branding" },
		tagline: "Build a compelling brand and expand your market presence",
	},
	{
		title: "Project Management",
		slug: { current: "project-management" },
		tagline: "Structured execution to deliver projects on time and budget",
	},
	{
		title: "Website Development",
		slug: { current: "website-development" },
		tagline: "Custom websites and web applications tailored to your needs",
	},
];

const displayServices =
	services.length > 0 ? services.slice(0, 9) : fallbackServices;

import {
	ALL_TESTIMONIALS_QUERY,
	RECENT_POSTS_QUERY,
	ALL_CLIENT_LOGOS_QUERY,
} from "../lib/queries";
const sanityTestimonials = await client
	.fetch(ALL_TESTIMONIALS_QUERY)
	.catch(() => []);
const displayTestimonials =
	sanityTestimonials.length > 0 ? sanityTestimonials : testimonials;

const recentPosts = await client.fetch(RECENT_POSTS_QUERY).catch(() => []);

const clientLogos = await client.fetch(ALL_CLIENT_LOGOS_QUERY).catch(() => []);
---

<BaseLayout
	title="Swift Support Solutions"
	description="Professional business consulting, financial advisory, accounting, tax support, and events management in Nepal. Trusted by 500+ businesses."
>
	<!-- â”€â”€â”€ HERO â”€â”€â”€ -->
	<section class="relative bg-slate-900 overflow-hidden">
		<div class="absolute inset-0 opacity-5">
			<div
				class="absolute inset-0"
				style="background-image: radial-gradient(circle at 1px 1px, white 1px, transparent 0); background-size: 40px 40px;"
			>
			</div>
		</div>
		<div
			class="absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-amber-500/10 to-transparent pointer-events-none"
		>
		</div>
		<div class="container relative py-20 md:py-28">
			<div class="grid lg:grid-cols-2 gap-12 items-center">
				<div class="max-w-3xl">
					<div
						class="inline-flex items-center gap-2 bg-amber-500/10 border border-amber-500/20 text-amber-400 text-sm font-medium px-4 py-1.5 rounded-full mb-6"
					>
						<span
							class="w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"
						></span>
						Trusted by 500+ Businesses Across Nepal
					</div>
					<h1
						class="text-4xl sm:text-5xl md:text-6xl font-bold text-white leading-tight mb-6"
					>
						Business Solutions<br /><span class="text-amber-400"
							>for Growth</span
						>
					</h1>
					<p
						class="text-lg text-slate-300 leading-relaxed mb-8 max-w-xl"
					>
						Your trusted partner for comprehensive business
						consulting support - from company registration to
						implementation. Nepal-registered, IRD-compliant, and
						built to help you thrive.
					</p>
					<div class="flex flex-col sm:flex-row gap-4">
						<a
							href="/contact"
							class="btn-primary text-base py-3.5 px-8"
						>
							Get a Free Consultation
						</a>
						<a
							href="/services"
							class="inline-flex items-center justify-center gap-2 px-8 py-3.5 text-base font-semibold text-white border border-white/20 rounded-lg hover:bg-white/10 transition-colors"
						>
							View Our Services
							<svg
								class="w-4 h-4"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
							</svg>
						</a>
					</div>
				</div>
				<div class="hidden lg:block relative">
					<div
						class="absolute inset-0 bg-amber-500/20 blur-3xl rounded-full opacity-50 translate-x-1/4 translate-y-1/4"
					>
					</div>
					<img
						src="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=2000&auto=format&fit=crop"
						alt="Business Meeting"
						class="relative z-10 rounded-2xl shadow-2xl border border-white/10 object-cover w-full h-[500px]"
					/>
					<!-- Floating Badge -->
					<div
						class="absolute -bottom-6 -left-6 bg-white rounded-xl shadow-xl p-4 flex items-center gap-4 z-20 animate-bounce"
					>
						<div
							class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600"
						>
							<svg
								class="w-6 h-6"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
								><path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M5 13l4 4L19 7"></path></svg
							>
						</div>
						<div>
							<div class="font-bold text-slate-900">99%</div>
							<div class="text-xs text-slate-500">
								Client Satisfaction
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ STATS â”€â”€â”€ -->
	<section class="bg-white border-b border-slate-100">
		<div class="container py-12">
			<div class="grid grid-cols-2 md:grid-cols-4 gap-8">
				{
					stats.map((stat) => (
						<div class="text-center">
							<div class="text-3xl sm:text-4xl font-bold text-slate-900 mb-1">
								{stat.value}
							</div>
							<div class="text-sm text-slate-500">
								{stat.label}
							</div>
						</div>
					))
				}
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ SERVICES GRID â”€â”€â”€ -->
	<section class="bg-slate-50 py-20">
		<div class="container">
			<div class="text-center mb-12">
				<h2 class="section-heading">Our Comprehensive Services</h2>
				<p class="section-subheading mx-auto">
					Swift Support Solutions delivers expert consulting across 9
					core service areas - all designed to help your business
					succeed in Nepal's evolving market.
				</p>
			</div>
			<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
				{
					displayServices.map((service: any) => (
						<ServiceCard
							title={service.title}
							tagline={service.tagline}
							slug={service.slug?.current || service.slug}
							iconName={service.icon}
							benefitCount={service.benefitCount}
						/>
					))
				}
			</div>
			<div class="text-center mt-10">
				<a href="/services" class="btn-secondary">View All Services</a>
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ CLIENT LOGOS â”€â”€â”€ -->
	<section class="bg-white py-14 border-b border-slate-100 overflow-hidden">
		<div class="container text-center">
			<p
				class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-8"
			>
				Trusted by industry leaders
			</p>
			<div
				class="flex flex-wrap justify-center items-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-300"
			>
				{
					clientLogos.length > 0 ? (
						clientLogos.map((logo: any) => (
							<div class="flex items-center justify-center">
								<img
									src={logo.imageUrl}
									alt={logo.name}
									class="h-10 sm:h-12 w-auto object-contain"
								/>
							</div>
						))
					) : (
						<div class="flex flex-wrap justify-center items-center gap-8 md:gap-16 w-full">
							<div class="text-2xl font-bold font-serif text-slate-800 flex items-center gap-2">
								<div class="w-6 h-6 bg-slate-800 rounded-sm inline-block" />{" "}
								Acme Corp
							</div>
							<div class="text-2xl font-bold tracking-tighter text-slate-800 flex items-center gap-2">
								<div class="w-6 h-6 rounded-full border-4 border-slate-800 inline-block" />{" "}
								GlobalTech
							</div>
							<div class="text-xl font-bold italic text-slate-800 flex items-center gap-2">
								<svg
									class="w-6 h-6"
									viewBox="0 0 24 24"
									fill="currentColor"
								>
									<path d="M12 2L2 22h20L12 2z" />
								</svg>{" "}
								Innovate Inc
							</div>
							<div class="text-lg font-black uppercase text-slate-800 flex items-center gap-2">
								<svg
									class="w-6 h-6"
									viewBox="0 0 24 24"
									fill="currentColor"
								>
									<path d="M22 12A10 10 0 1 1 12 2a10 10 0 0 1 10 10zM12 4a8 8 0 1 0 8 8 8 8 0 0 0-8-8z" />
								</svg>{" "}
								Stark Ind.
							</div>
							<div class="text-xl font-bold font-mono text-slate-800 flex items-center gap-2">
								<div class="w-6 h-6 bg-slate-800 rotate-45 inline-block" />{" "}
								NexGen
							</div>
						</div>
					)
				}
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ WHY US â”€â”€â”€ -->
	<section class="bg-white py-20">
		<div class="container">
			<div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
				<div>
					<h2 class="section-heading mb-4">
						Why 500+ Businesses Trust Us
					</h2>
					<p class="text-slate-500 leading-relaxed mb-8">
						We combine deep local knowledge of Nepal's regulatory
						environment with internationally-recognised best
						practices. Whether you're a startup, SME, or established
						enterprise, we have the expertise to support your goals.
					</p>
					<div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
						{
							whyUs.map((item) => (
								<div class="p-5 rounded-xl bg-slate-50 border border-slate-100">
									<div class="text-2xl mb-3">{item.icon}</div>
									<h3 class="font-semibold text-slate-900 mb-1.5 text-sm">
										{item.title}
									</h3>
									<p class="text-xs text-slate-500 leading-relaxed">
										{item.desc}
									</p>
								</div>
							))
						}
					</div>
				</div>
				<div class="bg-slate-900 rounded-2xl p-8 text-white">
					<h3 class="text-xl font-bold mb-6">Our Approach</h3>
					<div class="space-y-5">
						{
							[
								{
									step: "01",
									title: "Discovery Call",
									desc: "We understand your business, goals, and challenges in a free 30-minute consultation.",
								},
								{
									step: "02",
									title: "Custom Plan",
									desc: "Our experts design a tailored strategy aligned with your specific needs and Nepal's regulations.",
								},
								{
									step: "03",
									title: "Execution",
									desc: "We implement, handle paperwork, liaise with authorities, and keep you informed at every step.",
								},
								{
									step: "04",
									title: "Ongoing Support",
									desc: "We remain your long-term partner for compliance, growth, and evolving business needs.",
								},
							].map((item) => (
								<div class="flex gap-4">
									<span class="text-amber-400 font-bold text-sm w-7 flex-shrink-0">
										{item.step}
									</span>
									<div>
										<div class="font-semibold text-sm mb-0.5">
											{item.title}
										</div>
										<div class="text-slate-400 text-xs leading-relaxed">
											{item.desc}
										</div>
									</div>
								</div>
							))
						}
					</div>
					<div class="mt-8 pt-6 border-t border-slate-700">
						<a
							href="/contact"
							class="btn-primary w-full text-center text-sm py-3"
						>
							Schedule Your Free Call
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ TESTIMONIALS â”€â”€â”€ -->
	<section class="bg-slate-50 py-20">
		<div class="container">
			<div class="text-center mb-12">
				<h2 class="section-heading">What Our Clients Say</h2>
				<p class="section-subheading mx-auto">
					Real results from real businesses across Nepal.
				</p>
			</div>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
				{
					displayTestimonials.map((t: any) => (
						<div class="card p-6">
							<div class="flex gap-1 mb-4">
								{[1, 2, 3, 4, 5].map(() => (
									<svg
										class="w-4 h-4 text-amber-400"
										fill="currentColor"
										viewBox="0 0 20 20"
									>
										<path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
									</svg>
								))}
							</div>
							<p class="text-slate-600 text-sm leading-relaxed italic mb-5">
								"{t.quote}"
							</p>
							<div class="flex items-center gap-3">
								<div class="w-9 h-9 rounded-full bg-slate-900 flex items-center justify-center text-white text-xs font-bold flex-shrink-0">
									{t.initials ||
										(t.author
											? t.author
													.split(" ")
													.map((n: string) => n[0])
													.join("")
													.substring(0, 2)
													.toUpperCase()
											: "U")}
								</div>
								<div>
									<div class="text-sm font-semibold text-slate-900">
										{t.name ||
											(t.author
												? t.author.split(",")[0]
												: "Unnamed Client")}
									</div>
									<div class="text-xs text-slate-500 line-clamp-1">
										{t.role ||
											(t.author && t.author.includes(",")
												? t.author
														.split(",")
														.slice(1)
														.join(",")
												: t.location)}
									</div>
								</div>
							</div>
						</div>
					))
				}
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ FAQS â”€â”€â”€ -->
	<section class="bg-white py-20">
		<div class="container">
			<div class="max-w-3xl mx-auto">
				<div class="text-center mb-12">
					<h2 class="section-heading">Frequently Asked Questions</h2>
					<p class="section-subheading mx-auto">
						Common questions about working with Swift Support
						Solutions.
					</p>
				</div>
				<div class="space-y-4">
					<details
						class="group bg-slate-50 rounded-lg open:bg-white open:ring-1 open:ring-slate-200 open:shadow-lg transition-all duration-200"
					>
						<summary
							class="flex items-center justify-between cursor-pointer p-6 font-semibold text-slate-900 group-open:text-brand-600"
						>
							How long does company registration in Nepal usually
							take?
							<span
								class="ml-4 flex-shrink-0 text-slate-400 group-open:text-brand-600 transition-transform group-open:rotate-180"
							>
								<svg
									class="w-5 h-5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
									><path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M19 9l-7 7-7-7"></path></svg
								>
							</span>
						</summary>
						<div
							class="px-6 pb-6 text-slate-600 leading-relaxed group-open:animate-fadeIn"
						>
							Company registration through the OCR (Office of
							Company Registrar) typically takes 5-7 business
							days, assuming all documentation is correctly
							prepared. We handle the entire A-Z process,
							including drafting the MOA and AOA.
						</div>
					</details>
					<details
						class="group bg-slate-50 rounded-lg open:bg-white open:ring-1 open:ring-slate-200 open:shadow-lg transition-all duration-200"
					>
						<summary
							class="flex items-center justify-between cursor-pointer p-6 font-semibold text-slate-900 group-open:text-brand-600"
						>
							Do you provide ongoing tax and accounting support?
							<span
								class="ml-4 flex-shrink-0 text-slate-400 group-open:text-brand-600 transition-transform group-open:rotate-180"
							>
								<svg
									class="w-5 h-5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
									><path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M19 9l-7 7-7-7"></path></svg
								>
							</span>
						</summary>
						<div
							class="px-6 pb-6 text-slate-600 leading-relaxed group-open:animate-fadeIn"
						>
							Yes. We offer fully outsourced accounting, monthly
							VAT filing, and annual audit preparation. This
							allows you to focus purely on your business while we
							handle IRD compliance and bookkeeping.
						</div>
					</details>
					<details
						class="group bg-slate-50 rounded-lg open:bg-white open:ring-1 open:ring-slate-200 open:shadow-lg transition-all duration-200"
					>
						<summary
							class="flex items-center justify-between cursor-pointer p-6 font-semibold text-slate-900 group-open:text-brand-600"
						>
							Can you help me connect with investors for my
							startup?
							<span
								class="ml-4 flex-shrink-0 text-slate-400 group-open:text-brand-600 transition-transform group-open:rotate-180"
							>
								<svg
									class="w-5 h-5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
									><path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M19 9l-7 7-7-7"></path></svg
								>
							</span>
						</summary>
						<div
							class="px-6 pb-6 text-slate-600 leading-relaxed group-open:animate-fadeIn"
						>
							Absolutely. Our Fundraising Solutions team
							specializes in pitch deck creation, financial
							modeling, and connecting promising startups with our
							network of local and international investors.
						</div>
					</details>
				</div>
			</div>
		</div>
	</section>

	<!-- â”€â”€â”€ BLOGS â”€â”€â”€ -->
	{
		recentPosts.length > 0 && (
			<section class="bg-slate-50 py-20 border-t border-slate-100">
				<div class="container">
					<div class="flex flex-col sm:flex-row justify-between items-end mb-12 gap-6">
						<div>
							<h2 class="section-heading mb-3">
								Latest Insights
							</h2>
							<p class="section-subheading mb-0">
								Expert advice on running a business in Nepal.
							</p>
						</div>
						<a
							href="/blog"
							class="font-semibold text-brand-600 hover:text-brand-700 transition-colors flex items-center gap-1"
						>
							Read all articles
							<svg
								class="w-4 h-4"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M17 8l4 4m0 0l-4 4m4-4H3"
								/>
							</svg>
						</a>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
						{recentPosts.map((post: any) => (
							<a
								href={`/blog/${post.slug.current}`}
								class="group bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden hover:shadow-md transition-all duration-200 flex flex-col h-full"
							>
								<div class="h-48 bg-slate-200 relative overflow-hidden">
									{post.mainImage?.asset?.url ? (
										<img
											src={post.mainImage.asset.url}
											alt={
												post.mainImage.alt || post.title
											}
											class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
										/>
									) : (
										<div class="absolute inset-0 bg-brand-50 flex items-center justify-center text-brand-300">
											<svg
												class="w-12 h-12"
												fill="none"
												stroke="currentColor"
												viewBox="0 0 24 24"
											>
												<path
													stroke-linecap="round"
													stroke-linejoin="round"
													stroke-width="2"
													d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
												/>
											</svg>
										</div>
									)}
								</div>
								<div class="p-6 flex flex-col flex-grow">
									<div class="flex items-center gap-3 text-xs text-slate-500 mb-3">
										<time datetime={post.publishedAt}>
											{new Date(
												post.publishedAt,
											).toLocaleDateString("en-US", {
												month: "short",
												day: "numeric",
												year: "numeric",
											})}
										</time>
									</div>
									<h3 class="text-xl font-bold text-slate-900 group-hover:text-amber-600 transition-colors mb-3 line-clamp-2">
										{post.title}
									</h3>
									<p class="text-sm text-slate-600 mb-4 line-clamp-3 flex-grow">
										{post.excerpt}
									</p>
									<div class="text-sm font-semibold text-brand-600 flex items-center gap-1 mt-auto group-hover:gap-2 transition-all">
										Read Article
										<svg
											class="w-4 h-4"
											fill="none"
											stroke="currentColor"
											viewBox="0 0 24 24"
										>
											<path
												stroke-linecap="round"
												stroke-linejoin="round"
												stroke-width="2"
												d="M9 5l7 7-7 7"
											/>
										</svg>
									</div>
								</div>
							</a>
						))}
					</div>
				</div>
			</section>
		)
	}

	<!-- â”€â”€â”€ CTA BANNER â”€â”€â”€ -->
	<section class="bg-slate-900 py-16">
		<div class="container text-center">
			<h2 class="text-3xl sm:text-4xl font-bold text-white mb-4">
				Ready to Grow Your Business?
			</h2>
			<p class="text-slate-400 mb-8 max-w-xl mx-auto">
				Let's discuss how Swift Support Solutions can help you navigate
				Nepal's business landscape and achieve sustainable growth.
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center">
				<a href="/contact" class="btn-primary text-base py-3.5 px-10">
					Schedule a Free Consultation
				</a>
				<a
					href="/services"
					class="inline-flex items-center justify-center gap-2 px-10 py-3.5 text-base font-semibold text-white border border-white/20 rounded-lg hover:bg-white/10 transition-colors"
				>
					Explore Services
				</a>
			</div>
		</div>
	</section>
</BaseLayout>
